---
layout: null
---

{% assign docs = "" | split: "" %}
{% assign tag_index = {} %}

{%- for collection in site.collections -%}
  {% assign docs = docs | concat: collection.docs | default: array %}
{%- endfor -%}

{%- for item in docs -%}
  {%- for tag in item.tags -%}
    {% if tag_index[tag] == null %}
      {% assign tag_index = tag_index | merge: tag: item | array_wrap %}
    {% else %}
      {% assign current_docs = tag_index[tag] | push: item %}
      {% assign tag_index = tag_index | merge: tag: current_docs %}
    {% endif %}
  {%- endfor -%}
{%- endfor -%}

[{

{{ tag_index | json }}

}]
